<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dementia Early Detection</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #f5f7fb;
  margin: 0;
  padding: 0;
}
header {
  background: #58cc02;
  color: white;
  padding: 20px;
  text-align: center;
}
.container {
  padding: 20px;
}
.card {
  background: white;
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 15px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
button {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  background: #58cc02;
  color: white;
}
button.option {
  background: #e5e5e5;
  color: #000;
}
button.option.selected {
  background: #58cc02;
  color: white;
}
.hidden {
  display: none;
}
.risk-low { color: green; font-weight: bold; }
.risk-medium { color: orange; font-weight: bold; }
.risk-high { color: red; font-weight: bold; }
footer {
  text-align: center;
  padding: 10px;
  font-size: 14px;
  color: #777;
}
</style>
</head>

<body>

<header>
<h1>Dementia Early Detection App</h1>
<p>Early memory screening & caregiver support</p>
</header>

<div class="container">

<!-- HOME -->
<div class="card" id="home">
<h2>Choose Mode</h2>
<button onclick="startTest()">üë¥ Take Memory Test</button>
<button onclick="openDashboard()">üë®‚Äçüë©‚Äçüëß Caregiver Dashboard</button>
</div>

<!-- TEST -->
<div class="card hidden" id="test">
<h2 id="question"></h2>
<div id="options"></div>
<button onclick="nextQuestion()">Next</button>
</div>

<!-- RESULT -->
<div class="card hidden" id="result">
<h2>Test Result</h2>
<p>Your Score: <span id="score"></span></p>
<p>Risk Level: <span id="risk"></span></p>
<button onclick="goHome()">Back to Home</button>
</div>

<!-- DASHBOARD -->
<div class="card hidden" id="dashboard">
<h2>Caregiver Dashboard</h2>
<p>Last Score: <span id="dScore"></span></p>
<p>Risk Status: <span id="dRisk"></span></p>
<button onclick="goHome()">Back to Home</button>
</div>

</div>

<footer>
Innovation & Design Thinking Project | VTU
</footer>

<script>
let questions = [
  {
    q: "What is your full name?",
    options: ["Basvaraj Pattar", "Sanket Sarjapur", "Chinmay Swami", "Vivek Reddy"],
    answer: 0
  },
  {
    q: "What city do you currently live in?",
    options: ["Belagavi", "Bengaluru", "Kolkata", "Jaipur"],
    answer: 0
  },
  {
    q: "Choose your correct phone number",
    options: ["8861022530", "890373783993", "83838839940", "111183833339"],
    answer: 0
  },
  {
    q: "What is 7 + 5?",
    options: ["12", "11", "13", "10"],
    answer: 0
  },
  {
    q: "Which of these animals says 'meow'?",
    options: ["Cat", "Dog", "Cow", "Bird"],
    answer: 0
  },
  {
    q: "What is used to read time?",
    options: ["Watch", "Book", "Shoe", "Tree"],
    answer: 0
  },
  {
    q: "What is your residential address?",
    options: ["Shahpur, Bhoj Galli", "Tilakwadi", "Piranwadi", "Santibaswad"],
    answer: 0
  },
  {
    q: "Look at the shape ‚Äî then choose it from below ‚ñ†",
    options: ["‚ñ†", "‚óè", "‚óã", "‚òÖ"],
    answer: 0
  },
  {
    q: "What is your mother‚Äôs first name?",
    options: ["Renuka", "Lalita", "Anjana", "Amruta"],
    answer: 0
  },
  {
    q: "What is your son‚Äôs name?",
    options: ["Ramesh", "Suresh", "Ravi", "Mahesh"],
    answer: 0
  }
];

let current = 0;
let score = 0;
let selected = null;

function startTest() {
  document.getElementById("home").classList.add("hidden");
  document.getElementById("test").classList.remove("hidden");
  showQuestion();
}

function showQuestion() {
  selected = null;
  let q = questions[current];
  document.getElementById("question").innerText = q.q;
  let optDiv = document.getElementById("options");
  optDiv.innerHTML = "";
  q.options.forEach((opt, i) => {
    let btn = document.createElement("button");
    btn.className = "option";
    btn.innerText = opt;
    btn.onclick = () => selectOption(btn, i);
    optDiv.appendChild(btn);
  });
}

function selectOption(btn, i) {
  selected = i;
  document.querySelectorAll(".option").forEach(b => b.classList.remove("selected"));
  btn.classList.add("selected");
}

function nextQuestion() {
  if (selected === null) return alert("Please select an answer");
  if (selected === questions[current].answer) score++;
  current++;
  if (current < questions.length) {
    showQuestion();
  } else {
    finishTest();
  }
}

function finishTest() {
  document.getElementById("test").classList.add("hidden");
  document.getElementById("result").classList.remove("hidden");

  let riskText = "";
  let riskClass = "";

  if (score >= 8) {
    riskText = "Low Risk";
    riskClass = "risk-low";
  } else if (score >= 5) {
    riskText = "Medium Risk";
    riskClass = "risk-medium";
  } else {
    riskText = "High Risk";
    riskClass = "risk-high";
  }

  document.getElementById("score").innerText = score + "/" + questions.length;
  let riskSpan = document.getElementById("risk");
  riskSpan.innerText = riskText;
  riskSpan.className = riskClass;

  localStorage.setItem("score", score);
  localStorage.setItem("risk", riskText);
}

function openDashboard() {
  document.getElementById("home").classList.add("hidden");
  document.getElementById("dashboard").classList.remove("hidden");
  document.getElementById("dScore").innerText = localStorage.getItem("score") || "No data";
  document.getElementById("dRisk").innerText = localStorage.getItem("risk") || "No data";
}

function goHome() {
  current = 0;
  score = 0;
  document.querySelectorAll(".card").forEach(c => c.classList.add("hidden"));
  document.getElementById("home").classList.remove("hidden");
}
</script>

</body>
</html>
